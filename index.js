!function(){var o=function(t){return t instanceof o?t:this instanceof o?void(this.lazyloadWrapped=t):new o(t)};"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=o:exports).lazyload=o:this.lazyload=o,o.listener=null,o.throttle=function(n,o,a){var s,i=new Date;return function(){var t=arguments,e=new Date;clearTimeout(s),a<=e-i?(n.apply(this,t),i=e):s=setTimeout(n,o)}},o.loadItem=function(t){var e=t.getAttribute(o.options.attribute),n=t.getAttribute("data-status");e&&"load"!==n&&(t.setAttribute("data-status","load"),t.onload=function(){t.setAttribute(o.options.attribute,""),t.className=t.className.replace(o.options.className,"")},t.onerror=function(){t.setAttribute(o.options.attribute,""),t.className=t.className.replace(o.options.className,"")},t.src=e)},o.run=function(){for(var t=o.options.className?document.getElementsByClassName(o.options.className):document.getElementsByTagName("img"),e=0;e<t.length;e++)t[e].getBoundingClientRect().top<=window.innerHeight&&o.loadItem(t[e])},o.init=function(t){o.options={className:t.className||"",attribute:t.attribute||""},o.options.attribute&&(o.run(),o.listener=o.throttle(o.run,150,500),window.addEventListener("scroll",o.listener,!1))},o.remove=function(){o.listener&&window.removeEventListener("scroll",o.listener,!1)}}.call(this);